{
  "openapi" : "3.0.1",
  "info" : {
    "title" : "API Interna de PortaFIB de consulta de serveis d'utilitat",
    "description" : "Conjunt de Serveis REST de PortaFIB per atendre consultes generiques de Portafib",
    "contact" : {
      "name" : "Departament de Govern Digital a la Fundació Bit",
      "url" : "http://governdigital.fundaciobit.org",
      "email" : "otae@fundaciobit.org"
    },
    "license" : {
      "name" : "European Union Public Licence (EUPL v1.2)",
      "url" : "https://joinup.ec.europa.eu/sites/default/files/custom-page/attachment/eupl_v1.2_es.pdf"
    },
    "version" : "1.0-SNAPSHOT"
  },
  "externalDocs" : {
    "description" : "Java API Interna Client (Github Source Code)",
    "url" : "https://github.com/GovernIB/portafib/tree/portafib-2.2/"
  },
  "servers" : [ {
    "url" : "/portafibapi/interna"
  }, {
    "url" : "http://localhost:8080/portafibapi/interna"
  }, {
    "url" : "https://dev.caib.es/portafibapi/interna"
  }, {
    "url" : "https://proves.caib.es/portafibapi/interna"
  }, {
    "url" : "https://se.caib.es/portafibapi/interna"
  }, {
    "url" : "https://www.caib.es/portafibapi/interna"
  } ],
  "tags" : [ {
    "name" : "Firma en Servidor v1",
    "description" : "Firma en servidor"
  }, {
    "name" : "Utils v1",
    "description" : "Utilitats"
  } ],
  "paths" : {
    "/secure/firmaenservidor/v1/signdocument" : {
      "post" : {
        "tags" : [ "Firma en Servidor v1" ],
        "summary" : "Operacio de firma simple en servidor d'un document",
        "operationId" : "signdocument",
        "requestBody" : {
          "description" : "Operacio de firma simple en servidor d'un document",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/FirmaSimpleSignDocumentRequest"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "Operació realitzada correctament",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FirmaSimpleSignatureResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Paràmetres incorrectes",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          },
          "500" : {
            "description" : "Error no controlat",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          }
        },
        "security" : [ {
          "BasicAuth" : [ ]
        } ]
      }
    },
    "/secure/firmaenservidor/v1/upgradeSignature" : {
      "post" : {
        "tags" : [ "Firma en Servidor v1" ],
        "summary" : "Operacio de firma simple en servidor d'un document",
        "operationId" : "upgradeSignature",
        "requestBody" : {
          "description" : "Funcio de upgrade se firma digital",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/FirmaSimpleUpgradeRequest"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "Operació realitzada correctament",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FirmaSimpleUpgradeResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Paràmetres incorrectes",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          },
          "500" : {
            "description" : "Error no controlat",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          }
        },
        "security" : [ {
          "BasicAuth" : [ ]
        } ]
      }
    },
    "/secure/firmaenservidor/v1/versio" : {
      "get" : {
        "tags" : [ "Firma en Servidor v1" ],
        "summary" : "Retorna la versió d'aquest Servei",
        "operationId" : "versio",
        "responses" : {
          "200" : {
            "description" : "Retornada correctament la versió d'aquest Servei",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "string"
                }
              }
            }
          },
          "401" : {
            "description" : "No Autenticat",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "string"
                }
              }
            }
          },
          "403" : {
            "description" : "No Autoritzat",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "string"
                }
              }
            }
          },
          "500" : {
            "description" : "Error no controlat",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          }
        },
        "security" : [ {
          "BasicAuth" : [ ]
        } ]
      }
    },
    "/secure/utils/v1/getAvailableLanguages" : {
      "get" : {
        "tags" : [ "Utils v1" ],
        "summary" : "Retorna els idiomes disponibles.",
        "operationId" : "getAvailableLanguages",
        "parameters" : [ {
          "name" : "language",
          "in" : "query",
          "description" : "Idioma en que s'han de retornar les dades(Només suportat 'ca' o 'es')",
          "schema" : {
            "type" : "string",
            "default" : "ca"
          },
          "examples" : {
            "Català" : {
              "description" : "Català",
              "value" : "ca"
            },
            "Castellano" : {
              "description" : "Castellano",
              "value" : "es"
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Operació realitzada correctament",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/AvailableLanguagesRest"
                }
              }
            }
          },
          "400" : {
            "description" : "Paràmetres incorrectes",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          },
          "500" : {
            "description" : "Error no controlat",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          }
        },
        "security" : [ {
          "BasicAuth" : [ ]
        } ]
      }
    },
    "/secure/utils/v1/getAvailableProfiles" : {
      "get" : {
        "tags" : [ "Utils v1" ],
        "summary" : "Retorna els perfils de firma.",
        "operationId" : "getAvailableProfiles",
        "parameters" : [ {
          "name" : "language",
          "in" : "query",
          "description" : "Idioma en que s'han de retornar les dades(Només suportat 'ca' o 'es')",
          "schema" : {
            "type" : "string",
            "default" : "ca"
          },
          "examples" : {
            "Català" : {
              "description" : "Català",
              "value" : "ca"
            },
            "Castellano" : {
              "description" : "Castellano",
              "value" : "es"
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Operació realitzada correctament",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/AvailableProfilesRest"
                }
              }
            }
          },
          "400" : {
            "description" : "Paràmetres incorrectes",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          },
          "500" : {
            "description" : "Error no controlat",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          }
        },
        "security" : [ {
          "BasicAuth" : [ ]
        } ]
      }
    },
    "/secure/utils/v1/tipusdocumentalslist" : {
      "get" : {
        "tags" : [ "Utils v1" ],
        "summary" : "Retorna la llista de tipus documentals disponibles.",
        "operationId" : "tipusdocumentalslist",
        "parameters" : [ {
          "name" : "language",
          "in" : "query",
          "description" : "Idioma en que s'han de retornar les dades(Només suportat 'ca' o 'es')",
          "schema" : {
            "type" : "string",
            "default" : "ca"
          },
          "examples" : {
            "Català" : {
              "description" : "Català",
              "value" : "ca"
            },
            "Castellano" : {
              "description" : "Castellano",
              "value" : "es"
            }
          }
        }, {
          "name" : "appuser",
          "in" : "query",
          "description" : "Filtre pel nom de l'usuari aplicacio. Opcional.",
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Operació realitzada correctament",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/LlistaTipusDocumentalRest"
                }
              }
            }
          },
          "400" : {
            "description" : "Paràmetres incorrectes",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          },
          "500" : {
            "description" : "Error no controlat",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RestExceptionInfo"
                }
              }
            }
          }
        },
        "security" : [ {
          "BasicAuth" : [ ]
        } ]
      }
    }
  },
  "components" : {
    "schemas" : {
      "FirmaSimpleCommonInfo" : {
        "required" : [ "administrationID", "languageUI" ],
        "type" : "object",
        "properties" : {
          "signProfile" : {
            "type" : "string",
            "description" : "Identificador único del usuario",
            "example" : "PROFILE_PADES"
          },
          "languageUI" : {
            "type" : "string",
            "description" : "Idioma en que retornar valors i missatges d'error",
            "example" : "ca"
          },
          "username" : {
            "type" : "string",
            "description" : " - FIRMA WEB: Requerit. És el codi d'usuari dins l'entitat. Per exemple en entorn CAIB serien els \"u800xx\" o \"u[DNI]\"\r\n -FIRMA EN SERVIDOR: Opcional. Es reconama que valgui null a no ser que l'administrador digui el contrari. És la configuració de firma en el sistema específic de firma. Per exemple amb el Plugin de @firma federat et pots connectar amb un usuari-password però aquest pot tenir diverses configuracions per fer firmes en servidor o àlies: \"username\" s'utilitza de definir aquesta configuració o àlies.",
            "example" : "\"u800xx\" / \"u[DNI]\""
          },
          "administrationID" : {
            "type" : "string",
            "description" : " - FIRMA WEB: Requerit. És el DNI de la persona signant. Si esta activa la validació dins PortaFIB llavors es valida que el DNI del Certificat sigui el mateix que aquest.\r\n - FIRMA EN SERVIDOR: Opcional. És el CIF o NIF associat al certificat en servidor. Si es defineix i si esta activa la validació dins PortaFIB llavors es valida que el DNI del Certificat sigui el mateix que aquest.",
            "example" : "99999999Z"
          },
          "organizationID" : {
            "type" : "string",
            "description" : "Opcional. És el CIF de l'organització representada pel signant. Si esta activa la validació dins PortaFIB llavors es valida que el Certificat sigui un certificat de representant d'aquest CIF.",
            "example" : "B99999999"
          },
          "signerEmail" : {
            "type" : "string",
            "description" : " - FIRMA WEB: Opcional. Correu del Firmant. Per afegir a les dades de la firma.\r\n - FIRMA EN SERVIDOR: Opcional. Correu del departament que ordena la firma. Per afegir a les dades de la firma.",
            "example" : "correufirmant@entitat.org"
          }
        },
        "description" : "Configuracions generals de firma i identificacio del solicitant i solicitat"
      },
      "FirmaSimpleFile" : {
        "required" : [ "nom" ],
        "type" : "object",
        "properties" : {
          "nom" : {
            "type" : "string",
            "description" : "Nom del fitxer."
          },
          "mime" : {
            "type" : "string",
            "description" : "Tipus mime del fitxer."
          },
          "data" : {
            "type" : "string",
            "description" : "Contingut del fitxer. En llistats aquest camp vendrà buit.",
            "format" : "byte"
          }
        },
        "description" : "Objecte que representa un Document/Fitxer"
      },
      "FirmaSimpleFileInfoSignature" : {
        "required" : [ "fileToSign", "languageSign", "location", "name", "reason", "signID", "signNumber" ],
        "type" : "object",
        "properties" : {
          "fileToSign" : {
            "$ref" : "#/components/schemas/FirmaSimpleFile"
          },
          "previusSignatureDetachedFile" : {
            "$ref" : "#/components/schemas/FirmaSimpleFile"
          },
          "signID" : {
            "type" : "string",
            "description" : "Identificador de la Firma",
            "example" : "1"
          },
          "name" : {
            "type" : "string",
            "description" : "Nom descriptiu de la firma. Pot ser el nom del fitxer o un nom associat a la tasca per a la que es requereix la firma.",
            "example" : "test.pdf"
          },
          "reason" : {
            "type" : "string",
            "description" : "Raó de la realització de la firma.",
            "example" : "Exemple de firma"
          },
          "location" : {
            "type" : "string",
            "description" : "Lloc on es realitza la firma.",
            "example" : "Palma"
          },
          "signNumber" : {
            "type" : "integer",
            "description" : "Posició de la firma dins el flux de firma.",
            "format" : "int32",
            "example" : 1
          },
          "languageSign" : {
            "type" : "string",
            "description" : "Idioma del document.",
            "example" : "ca"
          },
          "expedientCodi" : {
            "type" : "string",
            "description" : "Codi de l'expedient.",
            "example" : "ca"
          },
          "expedientNom" : {
            "type" : "string",
            "description" : "Nom de l'expedient.",
            "example" : "ca"
          },
          "expedientUrl" : {
            "type" : "string",
            "description" : "URL de l'expedient.",
            "example" : "ca"
          },
          "procedimentCodi" : {
            "type" : "string",
            "description" : "Codi del Procediment.",
            "example" : "ca"
          },
          "procedimentNom" : {
            "type" : "string",
            "description" : "Nom del Procediment.",
            "example" : "ca"
          },
          "documentType" : {
            "type" : "integer",
            "description" : "Tipus Documental. Si val null se li assigna 99",
            "format" : "int64"
          },
          "additionalInformation" : {
            "type" : "array",
            "description" : "Informació Addicional.",
            "example" : "ca",
            "items" : {
              "$ref" : "#/components/schemas/KeyValue"
            }
          }
        },
        "description" : "Informació especifica per a realitzar la firma"
      },
      "FirmaSimpleSignDocumentRequest" : {
        "required" : [ "commonInfo", "fileInfoSignature" ],
        "type" : "object",
        "properties" : {
          "commonInfo" : {
            "$ref" : "#/components/schemas/FirmaSimpleCommonInfo"
          },
          "fileInfoSignature" : {
            "$ref" : "#/components/schemas/FirmaSimpleFileInfoSignature"
          }
        }
      },
      "KeyValue" : {
        "required" : [ "key", "value" ],
        "type" : "object",
        "properties" : {
          "key" : {
            "type" : "string",
            "description" : "Clau del valor"
          },
          "value" : {
            "type" : "string",
            "description" : "Valor de la clau"
          }
        },
        "description" : "Objecte per afegir informació addicional sobre la firma o el firmant"
      },
      "FirmaSimpleCustodyInfo" : {
        "required" : [ "custodyID" ],
        "type" : "object",
        "properties" : {
          "custodyID" : {
            "type" : "string",
            "description" : "Identificador del sistema de custòdia"
          },
          "csv" : {
            "type" : "string",
            "description" : "URL on descarregar directament el fitxer signat"
          },
          "csvValidationWeb" : {
            "type" : "string",
            "description" : "Codi Segur de Validació d'aquest document custodiat."
          },
          "validationFileUrl" : {
            "type" : "string",
            "description" : "URL on descarregar-se la definició de com es genera el CSV"
          },
          "csvGenerationDefinition" : {
            "type" : "string",
            "description" : "Pàgina web on validar el document, normalment a partir de CSV"
          },
          "originalFileDirectURL" : {
            "type" : "string",
            "description" : "URL al document original"
          },
          "printableFileDirectUrl" : {
            "type" : "string",
            "description" : "URL al document en format per imprimir"
          },
          "eniFileDirectUrl" : {
            "type" : "string",
            "description" : "Url al eni File"
          },
          "expedientID" : {
            "type" : "string",
            "description" : "Id del expedient si és un expedient o esta relacionat amb un expedient."
          },
          "documentID" : {
            "type" : "string",
            "description" : "Id del document a signar"
          }
        },
        "description" : "Informació de Custòdia"
      },
      "FirmaSimpleSignatureResponse" : {
        "required" : [ "signID", "status" ],
        "type" : "object",
        "properties" : {
          "signID" : {
            "type" : "string",
            "description" : "Identificador de la firma"
          },
          "status" : {
            "$ref" : "#/components/schemas/FirmaSimpleStatus"
          },
          "signedFile" : {
            "$ref" : "#/components/schemas/FirmaSimpleFile"
          },
          "signedFileInfo" : {
            "$ref" : "#/components/schemas/FirmaSimpleSignedFileInfo"
          }
        },
        "description" : "Resposta de la petició de firma en servidor"
      },
      "FirmaSimpleSignedFileInfo" : {
        "required" : [ "policyIncluded", "signAlgorithm", "signMode", "signOperation", "signType", "signaturesTableLocation", "signerInfo", "timeStampIncluded" ],
        "type" : "object",
        "properties" : {
          "signOperation" : {
            "type" : "integer",
            "description" : "Operació de firma realitzada: Firma (0), Cofirma (1) o Contrafirma (2).",
            "format" : "int32",
            "example" : 1
          },
          "signType" : {
            "type" : "string",
            "description" : "Tipus de Firma. Valors possibles:\r\n    - “PAdES” (Constant SIGN_TYPE_PADES)\r\n    - “XAdES” (Constant SIGN_TYPE_XADES)\r\n    - “CAdES” (Constant SIGN_TYPE_CADES)\r\n    - “FacturaE” (Constant SIGN_TYPE_FACTURAE)\r\n    - “OOXML” (Constant SIGN_TYPE_OOXML)\r\n    - “ODF” (Constant SIGN_TYPE_ODF)\r\n    - “SMIME” (Constant SIGN_TYPE_SMIME)\r\n    - “CAdES-ASiC-S” (Constant SIGN_TYPE_CADES_ASIC_S)\r\n    - “XAdES-ASiC-S” (Constant SIGN_TYPE_XADES_ASIC_S)\r\n    - “PKCS#1” (Constant SIGN_TYPE_PKCS1)",
            "example" : "PAdES"
          },
          "signAlgorithm" : {
            "type" : "string",
            "description" : "Algorisme de Firma. Valors: \r\n    - \"SHA-1\"\r\n    - \"SHA-256\"\r\n    - \"SHA-384\"\r\n    - \"SHA-512\"",
            "example" : "SHA-1"
          },
          "signMode" : {
            "type" : "integer",
            "description" : "Valors:\r\n    - 0: Implicit o Attached. La firma resultante incluye internamente una copia de los datos firmados. \r\n    - 1: Explicit o Detached: La firma resultante no incluye los datos firmados. ",
            "format" : "int32",
            "example" : 0
          },
          "signaturesTableLocation" : {
            "type" : "integer",
            "description" : "Posició de la Taula de firmes:\r\n    - 0: Sense taula de firmes\r\n    - 1: Taula de firmes en la 1a pàgina\r\n    - -1: Darrera pàgina",
            "format" : "int32",
            "example" : 1
          },
          "timeStampIncluded" : {
            "type" : "boolean",
            "description" : "Indica si s'ha afegit un segell de Temps durant la firma",
            "example" : true
          },
          "policyIncluded" : {
            "type" : "boolean",
            "description" : "Indica si inclou política de firma (true, EPES) o no (false)",
            "example" : true
          },
          "eniTipoFirma" : {
            "type" : "string",
            "description" : "Denominación normalizada del tipo de firma. Los posibles valores asignables son los siguientes: \r\n    - TF01 - CSV \r\n    - TF02 - XAdES internally detached signature\"); \r\n    - TF03 - XAdES enveloped signature.\r\n    - TF04 - CAdES detached/explicit signature.\r\n    - TF05 – CadES attached/implicit signature.\r\n    - TF06 - PAdES. El tipo TF04 será establecido por defecto para documentos firmados, exceptuando los documentos en formato PDF o PDF/A, cuyo tipo será TF06.",
            "example" : "TF01"
          },
          "eniPerfilFirma" : {
            "type" : "string",
            "description" : "Perfil empleado en una firma con certificado electrónico. Los posibles valores asignables son los siguientes:\r\n  AdES-BES\r\n  AdES-EPES\r\n  AdES-T\r\n  AdES-C\r\n  AdES-X\r\n  AdES-X1\r\n  AdES-X2\r\n  AdES-XL\r\n  AdES-XL1\r\n  AdES-XL2\r\n  AdES-A\r\n  PAdES-LTV\r\n  PAdES-Basic",
            "example" : "AdES-BES"
          },
          "signerInfo" : {
            "$ref" : "#/components/schemas/FirmaSimpleSignerInfo"
          },
          "custodyInfo" : {
            "$ref" : "#/components/schemas/FirmaSimpleCustodyInfo"
          },
          "validationInfo" : {
            "$ref" : "#/components/schemas/FirmaSimpleValidationInfo"
          }
        },
        "description" : "Informació del fitxer signat."
      },
      "FirmaSimpleSignerInfo" : {
        "type" : "object",
        "properties" : {
          "eniRolFirma" : {
            "type" : "string",
            "description" : "Esquemas desarrollados a nivel local y que pueden incluir valores como válida, autentica, refrenda, visa, representa, testimonia, etc.."
          },
          "eniSignerName" : {
            "type" : "string",
            "description" : "Nombre o razón social de los firmantes."
          },
          "eniSignerAdministrationId" : {
            "type" : "string",
            "description" : "NIF del firmant."
          },
          "eniSignLevel" : {
            "type" : "string",
            "description" : "Indicador normalizado que refleja el grado de  confianza de la firma utilizado. Ejemplos: Nick, PIN ciudadano, Firma electrónica avanzada, Claves concertadas, Firma electrónica avanzada basada en certificados, CSV, .."
          },
          "signDate" : {
            "type" : "string",
            "description" : "Data en que es va realitzar la firma",
            "format" : "date-time"
          },
          "serialNumberCert" : {
            "type" : "string",
            "description" : "Número de Sèrie del Certificat utilitzat en la firma"
          },
          "issuerCert" : {
            "type" : "string",
            "description" : "Issuer del Certificat utilitzat en la firma"
          },
          "subjectCert" : {
            "type" : "string",
            "description" : "Subject del Certificat utilitzat en la firma"
          },
          "additionalInformation" : {
            "type" : "array",
            "description" : "Ofrecer cualquier otra información que se  considere útil acerca del firmante.",
            "items" : {
              "$ref" : "#/components/schemas/KeyValue"
            }
          }
        },
        "description" : "Informació del signant"
      },
      "FirmaSimpleStatus" : {
        "required" : [ "STATUS_CANCELLED", "STATUS_FINAL_ERROR", "STATUS_FINAL_OK", "STATUS_INITIALIZING", "STATUS_IN_PROGRESS" ],
        "type" : "object",
        "properties" : {
          "STATUS_INITIALIZING" : {
            "type" : "integer",
            "description" : "Codi d'estat d'una petició de firma que indica un que s'esta inicialitzant",
            "format" : "int32",
            "readOnly" : true,
            "default" : 0
          },
          "STATUS_IN_PROGRESS" : {
            "type" : "integer",
            "description" : "Codi d'estat d'una petició de firma que indica un que esta en procés",
            "format" : "int32",
            "readOnly" : true,
            "default" : 1
          },
          "STATUS_FINAL_OK" : {
            "type" : "integer",
            "description" : "Codi d'estat d'una petició de firma que indica que ha finalitzat correctament",
            "format" : "int32",
            "readOnly" : true,
            "default" : 2
          },
          "STATUS_FINAL_ERROR" : {
            "type" : "integer",
            "description" : "Codi d'estat d'una petició de firma que indica que ha finalitzat amb errors",
            "format" : "int32",
            "readOnly" : true,
            "default" : -1
          },
          "STATUS_CANCELLED" : {
            "type" : "integer",
            "description" : "Codi d'estat d'una petició de firma que indica que ha sigut cancelada",
            "format" : "int32",
            "readOnly" : true,
            "default" : -2
          },
          "status" : {
            "type" : "integer",
            "format" : "int32"
          },
          "errorMessage" : {
            "type" : "string"
          },
          "errorStackTrace" : {
            "type" : "string"
          }
        },
        "description" : "Estat del procés de firma"
      },
      "FirmaSimpleValidationInfo" : {
        "type" : "object",
        "properties" : {
          "checkAdministrationIDOfSigner" : {
            "type" : "boolean",
            "description" : "S’ha verificat que l’identificador del firmant és la del que estava previst que firmàs. Valor buit indica que no s'ha realitzat la validació."
          },
          "checkDocumentModifications" : {
            "type" : "boolean",
            "description" : "S’ha verificat que no s’hagi modificat el document original. Valor buit indica que no s'ha realitzat la validació."
          },
          "checkValidationSignature" : {
            "type" : "boolean",
            "description" : "S’ha verificat que la firma és correcte. Valor buit indica que no s'ha realitzat la validació."
          },
          "noCheckValidationReason" : {
            "type" : "string",
            "description" : "Només s'omple si checkValidationSignature val false"
          }
        },
        "description" : "Informació de les validacions realitzades despres de la firma."
      },
      "RestExceptionInfo" : {
        "required" : [ "code", "errorMessage" ],
        "type" : "object",
        "properties" : {
          "code" : {
            "type" : "integer",
            "description" : "Codi de HTTP de l'error. Veure https://en.wikipedia.org/wiki/List_of_HTTP_status_codes.",
            "format" : "int32"
          },
          "errorMessage" : {
            "type" : "string",
            "description" : "Missatge de l'error"
          },
          "stackTrace" : {
            "type" : "string",
            "description" : "Stacktrace de l'excepció si n'hi hagués."
          },
          "causeException" : {
            "type" : "string",
            "description" : "Tipus de l'excepció origen (cause) si n'hi hagués."
          },
          "causeStackTrace" : {
            "type" : "string",
            "description" : "Stacktrace de l'excepció origen (cause) si n'hi hagués."
          }
        },
        "description" : "Estructura de dades utilitzada per passar informació d'un error"
      },
      "FirmaSimpleUpgradeRequest" : {
        "required" : [ "languageUI", "signature" ],
        "type" : "object",
        "properties" : {
          "profileCode" : {
            "type" : "string",
            "description" : "Codi del perfil a utilitzar. Si no es defineix, llavors requerim que quest usuari aplicación només tengui un Perfil definit."
          },
          "signature" : {
            "$ref" : "#/components/schemas/FirmaSimpleFile"
          },
          "detachedDocument" : {
            "$ref" : "#/components/schemas/FirmaSimpleFile"
          },
          "targetCertificate" : {
            "$ref" : "#/components/schemas/FirmaSimpleFile"
          },
          "languageUI" : {
            "type" : "string",
            "description" : "Idioma dels missatges en cas d'informar o d'errors.",
            "example" : "ca"
          }
        }
      },
      "FirmaSimpleUpgradeResponse" : {
        "type" : "object",
        "properties" : {
          "upgradedFile" : {
            "$ref" : "#/components/schemas/FirmaSimpleFile"
          },
          "upgradedFileInfo" : {
            "$ref" : "#/components/schemas/FirmaSimpleUpgradedFileInfo"
          }
        }
      },
      "FirmaSimpleUpgradedFileInfo" : {
        "required" : [ "signAlgorithm", "signMode", "signType" ],
        "type" : "object",
        "properties" : {
          "signType" : {
            "type" : "string",
            "description" : "Tipus de Firma. Valors possibles:\r\n    • “PAdES” (Constant SIGN_TYPE_PADES)\r\n    • “XAdES” (Constant SIGN_TYPE_XADES)\r\n    • “CAdES” (Constant SIGN_TYPE_CADES)\r\n    • “FacturaE” (Constant SIGN_TYPE_FACTURAE)\r\n    • “OOXML” (Constant SIGN_TYPE_OOXML)\r\n    • “ODF” (Constant SIGN_TYPE_ODF)\r\n    • “SMIME” (Constant SIGN_TYPE_SMIME)\r\n    • “CAdES-ASiC-S” (Constant SIGN_TYPE_CADES_ASIC_S)\r\n    • “XAdES-ASiC-S” (Constant SIGN_TYPE_XADES_ASIC_S)\r\n    • “PKCS#1” (Constant SIGN_TYPE_PKCS1)",
            "example" : "PAdES"
          },
          "signAlgorithm" : {
            "type" : "string",
            "description" : "Algorisme de Firma. Valors:\r\n    • \"SHA-1\"\r\n    • \"SHA-256\"\r\n    • \"SHA-384\"\r\n    • \"SHA-512\"",
            "example" : "SHA-1"
          },
          "signMode" : {
            "type" : "integer",
            "description" : "Mode de firma attached (0) o detached (1)",
            "format" : "int32",
            "example" : 0
          },
          "eniTipoFirma" : {
            "type" : "string"
          },
          "eniPerfilFirma" : {
            "type" : "string"
          },
          "validationInfo" : {
            "$ref" : "#/components/schemas/FirmaSimpleValidationInfo"
          },
          "additionInformation" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/KeyValue"
            }
          }
        },
        "description" : "Informació de la firma actualitzada"
      },
      "AvailableLanguagesRest" : {
        "type" : "object",
        "properties" : {
          "list" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/KeyValue"
            }
          }
        }
      },
      "AvailableProfile" : {
        "required" : [ "code", "description", "name" ],
        "type" : "object",
        "properties" : {
          "code" : {
            "type" : "string",
            "description" : "Codi del perfil"
          },
          "name" : {
            "type" : "string",
            "description" : "Nom del perfil en l’idioma elegit."
          },
          "description" : {
            "type" : "string",
            "description" : "Descripció del perfil en l’idioma elegit."
          }
        },
        "description" : "Detalls del Perfil d'un usuari Aplicació"
      },
      "AvailableProfilesRest" : {
        "type" : "object",
        "properties" : {
          "data" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/AvailableProfile"
            }
          },
          "language" : {
            "type" : "string"
          }
        }
      },
      "LlistaTipusDocumentalRest" : {
        "type" : "object",
        "properties" : {
          "data" : {
            "type" : "array",
            "description" : "Llistat de tipus documentals disponibles",
            "items" : {
              "$ref" : "#/components/schemas/TipusDocumentalRest"
            }
          },
          "language" : {
            "type" : "string",
            "description" : "Llenguatge seleccionat per la resposta"
          }
        },
        "description" : "Resposta per la petició de llistats de tipus documentals."
      },
      "TipusDocumentalRest" : {
        "type" : "object",
        "properties" : {
          "tipusDocumentID" : {
            "type" : "integer",
            "description" : "Identificador del tipus documental",
            "format" : "int64"
          },
          "nom" : {
            "type" : "string",
            "description" : "Nom del tipus documental en l'idioma seleccionat"
          },
          "tipusDocumentNTI" : {
            "type" : "integer",
            "description" : "Codi NTI del tipus documental",
            "format" : "int64"
          }
        },
        "description" : "Model de dades d'un tipus documental"
      }
    },
    "securitySchemes" : {
      "BasicAuth" : {
        "type" : "http",
        "scheme" : "basic"
      }
    }
  }
}