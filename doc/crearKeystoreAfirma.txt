
PER COMPILAR @FIRMA
===================


1.- Crear keystore 

C:\Documents and Settings\anadal\Escritorio\afirma\miniapplet\Fuentes>keytool -keystore afirma.keystore -genkey -alias codesign
Escriba la contrase±a del almac⁄n de claves: afirma
Volver a escribir la contrase±a nueva: afirma
+Cuﬂles son su nombre y su apellido?
  [Unknown]:  Fundiaco Bit
+Cuﬂl es el nombre de su unidad de organizaciæn?
  [Unknown]:  Fundacio Bit
+Cuﬂl es el nombre de su organizaciæn?
  [Unknown]:  Fundacio Bit
+Cuﬂl es el nombre de su ciudad o localidad?
  [Unknown]:  Palma
+Cuﬂl es el nombre de su estado o provincia?
  [Unknown]:  IB
+Cuﬂl es el cædigo de pa›s de dos letras de la unidad?
  [Unknown]:  IB
+Es correcto CN=Fundiaco Bit, OU=Fundacio Bit, O=Fundacio Bit, L=Palma, ST=IB, C=IB?
  [no]:  si

Escriba la contrase±a clave para <codesign>
        (INTRO si es la misma contrase±a que la del almac⁄n de claves): [INTRO]
		
		
2.- Importar certificat al keystore  afirma.keystore


C:\Documents and Settings\anadal\Escritorio\afirma\miniapplet\Fuentes>keytool -importcert -alias "codesign" -file fundaciobit_ca.crt -keypass fundaciobit -keystore afirma.keystore -storepass afirma 
Propietario: EMAILADDRESS=otae@ibit.org, CN=FundacioBit-OTAE, OU=OTAE, O=Fundacio Bit, L=Palma, ST=Illes Balears, C=ES
Emisor: EMAILADDRESS=otae@ibit.org, CN=FundacioBit-OTAE, OU=OTAE, O=Fundacio Bit, L=Palma, ST=Illes Balears, C=ES
N∑mero de serie: eda318046b0dab3e
Vﬂlido desde: Mon Apr 08 11:57:42 CEST 2013 hasta: Tue Apr 08 11:57:42 CEST 2014
Huellas digitales del certificado:
         MD5:  F2:E5:26:6A:BF:BA:26:8D:DC:FE:05:6A:1C:CB:D0:1A
         SHA1: 42:74:7E:46:45:42:1F:A5:03:36:C0:F6:19:81:0F:7F:62:B0:56:40
         Nombre del algoritmo de firma: SHA1withRSA
         Versiæn: 3

Extensiones:

#1: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: 39 D4 C4 5E 55 0C F0 00   36 27 42 C3 E6 13 54 7D  9..^U...6'B...T.
0010: B9 59 7B 95                                        .Y..
]
]

#2: ObjectId: 2.5.29.19 Criticality=false
BasicConstraints:[
  CA:true
  PathLen:2147483647
]

#3: ObjectId: 2.5.29.35 Criticality=false
AuthorityKeyIdentifier [
KeyIdentifier [
0000: 39 D4 C4 5E 55 0C F0 00   36 27 42 C3 E6 13 54 7D  9..^U...6'B...T.
0010: B9 59 7B 95                                        .Y..
]

]

+Confiar en este certificado? [no]:  si
Se ha a±adido el certificado al almac⁄n de claves



============================ IMPORTATAR KEYSTORE  =========================


keytool -keystore afirma.keystore -genkey -alias codesign

// Mirar alias l'entrada creada
keytool -list -keystore afirma.keystore  -storepass afirma



keytool -list -keystore proves-dgidt.p12 -storetype PKCS12


keytool -v -importkeystore -srckeystore proves-dgidt.p12 -srcstorepass [PASSWORD] -srcalias 2 -srcstoretype PKCS12 -destkeystore afirma.keystore  -deststoretype JKS

Miram quin alias

keytool -list -keystore afirma.keystore  -storepass afirma

// No se si s'ha de fer !!!!!!
keytool -changealias -keystore afirma.keystore -alias 1 -destalias codesign -storepass afirma

// Canviar contrasenya per la del keystore
keytool -keypasswd -alias codesign -keypass [PASSWORD] -new afirma -keystore afirma.keystore






