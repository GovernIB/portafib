
COMMENTS 
========
<#-- Comentari -->


API FIRMA SIMPLE EN SERVIDOR (firma i upgrade) i WEB
====================================================

Llista de paràmetres amb els que construir la Condició

usFirma (int) Valors: 0 => FIRMA SIMPLE EN SERVIDOR  | 1 => FIRMA SIMPLE WEB
lang (String) Idioma en format dos caràcters (ISO 639-1)
isUpgrade(boolean)  Valors: true => si es firma en servidor i a més és upgrade de signatura | false => qualsevol altre cas


Si isUpgrade val false:

firmaSimpleSignDocumentRequest	(org.fundaciobit.apisib.apifirmasimple.v1.beans.FirmaSimpleSignDocumentRequest)
firmaSimpleSignDocumentRequest.commonInfo	(org.fundaciobit.apisib.apifirmasimple.v1.beans.FirmaSimpleCommonInfo)
firmaSimpleSignDocumentRequest.commonInfo.signProfile	(String)
firmaSimpleSignDocumentRequest.commonInfo.languageUI	(String)
firmaSimpleSignDocumentRequest.commonInfo.username	(String)
firmaSimpleSignDocumentRequest.commonInfo.administrationID	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature	(org.fundaciobit.apisib.apifirmasimple.v1.beans.FirmaSimpleFileInfoSignature)
firmaSimpleSignDocumentRequest.fileInfoSignature.fileToSign	(org.fundaciobit.apisib.apifirmasimple.v1.beans.FirmaSimpleFile)
firmaSimpleSignDocumentRequest.fileInfoSignature.fileToSign.nom	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.fileToSign.mime	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.fileToSign.data	(byte[])
firmaSimpleSignDocumentRequest.fileInfoSignature.previusSignatureDetachedFile	(org.fundaciobit.apisib.apifirmasimple.v1.beans.FirmaSimpleFile)
firmaSimpleSignDocumentRequest.fileInfoSignature.previusSignatureDetachedFile.nom	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.previusSignatureDetachedFile.mime	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.previusSignatureDetachedFile.data	(byte[])
firmaSimpleSignDocumentRequest.fileInfoSignature.signID	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.name	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.reason	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.location	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.signerEmail	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.signNumber	(int)
firmaSimpleSignDocumentRequest.fileInfoSignature.languageSign	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.expedientCodi	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.expedientNom	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.expedientUrl	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.procedimentCodi	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.procedimentNom	(String)
firmaSimpleSignDocumentRequest.fileInfoSignature.additionalInformation	(java.util.List)

Si isUpgrade val true:

firmaSimpleUpgradeRequest	(org.fundaciobit.apisib.apifirmasimple.v1.beans.FirmaSimpleUpgradeRequest)
firmaSimpleUpgradeRequest.profileCode	(String)
firmaSimpleUpgradeRequest.signature	(org.fundaciobit.apisib.apifirmasimple.v1.beans.FirmaSimpleFile)
firmaSimpleUpgradeRequest.signature.nom	(String)
firmaSimpleUpgradeRequest.signature.mime	(String)
firmaSimpleUpgradeRequest.signature.data	(byte[])
firmaSimpleUpgradeRequest.targetCertificate	(org.fundaciobit.apisib.apifirmasimple.v1.beans.FirmaSimpleFile)
firmaSimpleUpgradeRequest.targetCertificate.nom	(String)
firmaSimpleUpgradeRequest.targetCertificate.mime	(String)
firmaSimpleUpgradeRequest.targetCertificate.data	(byte[])
firmaSimpleUpgradeRequest.languageUI	(String)



EXEMPLE
-------

<#if usFirma==0 || usFirma==1 >
   <#assign mime = "">
   <#if isUpgrade>
      <#assign mime = firmaSimpleUpgradeRequest.signature.mime>
   <#else>
      <#assign mime = firmaSimpleSignDocumentRequest.fileInfoSignature.fileToSign.mime>
   </#if>

   <#if mime == 'application/pdf'>
      1 <#-- Posició de la configuració PAdES en el Perfil-->
  <#elseif mime == 'text/xml'>
      2 <#-- Posició de la configuració XAdES en el Perfil -->
   <#else>
      3 <#-- Posició de la configuració CAdES en el Perfil -->
   </#if>
<#else>
   <#if lang == 'es'>
La condición del perfil solo evalua llamadas de API Firma Simple
   <#else>
La condició del perfil només avalua cridades de API Firma Simple
   </#if>
</#if>









<#if usFirma==0 || usFirma==1 >

   <#assign x = "plain">

   <#if firmaSimpleSignDocumentRequest.fileInfoSignature.fileToSign.mime == 'application/pdf'>
      1 <#-- Posició de la configuració PAdES en el Perfil-->
  <#elseif firmaSimpleSignDocumentRequest.fileInfoSignature.fileToSign.mime == 'text/xml'>
      2 <#-- Posició de la configuració XAdES en el Perfil -->
   <#else>
      3 <#-- Posició de la configuració CAdES en el Perfil -->
   </#if>
<#else>
   <#if lang == 'es'>
La condición del perfil solo evalua llamadas de API Firma Simple
   <#else>
La condició del perfil només avalua cridades de API Firma Simple
   </#if>
</#if>




PASSARELA DE FIRMA
==================

Llista de paràmetres amb els que construir la Condició

usFirma (int) Valors: -1 => PASSARELA EN SERVIDOR  | -2 => PASSARELA WEB
lang (String) Idioma en format dos caràcters (ISO 639-1)
passarelaCommonInfoSignature (PassarelaCommonInfoSignature) Dades comuns de la Petició (més detalls al punt següent)
passarelaFileInfoSignature	(PassarelaFileInfoSignature) Dades de la firma en si (més detalls al unt següent)

DETALLAS DE PassarelaCommonInfoSignature I DE PassarelaFileInfoSignature

passarelaCommonInfoSignature	(es.caib.portafib.logic.passarela.api.PassarelaCommonInfoSignature)
passarelaCommonInfoSignature.languageUI	(String)
passarelaCommonInfoSignature.filtreCertificats	(String)
passarelaCommonInfoSignature.username	(String)
passarelaCommonInfoSignature.administrationID	(String)
passarelaCommonInfoSignature.urlFinal	(String)
passarelaCommonInfoSignature.acceptedPlugins	(List)
passarelaCommonInfoSignature.policyInfoSignature	(es.caib.portafib.logic.passarela.api.PassarelaPolicyInfoSignature)
passarelaCommonInfoSignature.policyInfoSignature.policyIdentifier	(String)
passarelaCommonInfoSignature.policyInfoSignature.policyIdentifierHash	(String)
passarelaCommonInfoSignature.policyInfoSignature.policyIdentifierHashAlgorithm	(String)
passarelaCommonInfoSignature.policyInfoSignature.policyUrlDocument	(String)

passarelaFileInfoSignature	(es.caib.portafib.logic.passarela.api.PassarelaFileInfoSignature)
passarelaFileInfoSignature.fileToSign	(es.caib.portafib.model.bean.FitxerBean)
passarelaFileInfoSignature.fileToSign.serialVersionUID	(long)
passarelaFileInfoSignature.fileToSign.fitxerID	(long)
passarelaFileInfoSignature.fileToSign.nom	(String)
passarelaFileInfoSignature.fileToSign.descripcio	(String)
passarelaFileInfoSignature.fileToSign.tamany	(long)
passarelaFileInfoSignature.fileToSign.mime	(String)
passarelaFileInfoSignature.fileToSign.encryptedFileID	(String)
passarelaFileInfoSignature.previusSignatureDetachedFile	(es.caib.portafib.model.bean.FitxerBean)
passarelaFileInfoSignature.previusSignatureDetachedFile.serialVersionUID	(long)
passarelaFileInfoSignature.previusSignatureDetachedFile.fitxerID	(long)
passarelaFileInfoSignature.previusSignatureDetachedFile.nom	(String)
passarelaFileInfoSignature.previusSignatureDetachedFile.descripcio	(String)
passarelaFileInfoSignature.previusSignatureDetachedFile.tamany	(long)
passarelaFileInfoSignature.previusSignatureDetachedFile.mime	(String)
passarelaFileInfoSignature.previusSignatureDetachedFile.encryptedFileID	(String)
passarelaFileInfoSignature.signID	(String)
passarelaFileInfoSignature.name	(String)
passarelaFileInfoSignature.reason	(String)
passarelaFileInfoSignature.location	(String)
passarelaFileInfoSignature.signerEmail	(String)
passarelaFileInfoSignature.signNumber	(int)
passarelaFileInfoSignature.languageSign	(String)
passarelaFileInfoSignature.signOperation	(int)
passarelaFileInfoSignature.signType	(String)
passarelaFileInfoSignature.signAlgorithm	(String)
passarelaFileInfoSignature.signMode	(int)
passarelaFileInfoSignature.signaturesTableLocation	(int)
passarelaFileInfoSignature.signaturesTableHeader	(es.caib.portafib.logic.passarela.api.PassarelaSignaturesTableHeader)
passarelaFileInfoSignature.signaturesTableHeader.logoJpeg	(byte[])
passarelaFileInfoSignature.signaturesTableHeader.title	(String)
passarelaFileInfoSignature.signaturesTableHeader.titleFieldLabel	(String)
passarelaFileInfoSignature.signaturesTableHeader.titleFieldValue	(String)
passarelaFileInfoSignature.signaturesTableHeader.descriptionFieldLabel	(String)
passarelaFileInfoSignature.signaturesTableHeader.descriptionFieldValue	(String)
passarelaFileInfoSignature.signaturesTableHeader.signatureLabel	(String)
passarelaFileInfoSignature.secureVerificationCodeStampInfo	(es.caib.portafib.logic.passarela.api.PassarelaSecureVerificationCodeStampInfo)
passarelaFileInfoSignature.secureVerificationCodeStampInfo.pages	(String)
passarelaFileInfoSignature.secureVerificationCodeStampInfo.message	(String)
passarelaFileInfoSignature.secureVerificationCodeStampInfo.messagePosition	(int)
passarelaFileInfoSignature.secureVerificationCodeStampInfo.barCodeType	(String)
passarelaFileInfoSignature.secureVerificationCodeStampInfo.barCodePosition	(int)
passarelaFileInfoSignature.secureVerificationCodeStampInfo.barCodeText	(String)
passarelaFileInfoSignature.useTimeStamp	(boolean)
passarelaFileInfoSignature.expedientCodi	(String)
passarelaFileInfoSignature.expedientNom	(String)
passarelaFileInfoSignature.expedientUrl	(String)
passarelaFileInfoSignature.procedimentCodi	(String)
passarelaFileInfoSignature.procedimentNom	(String)
passarelaFileInfoSignature.additionalInformation	(List)


EXEMPLE
-------



