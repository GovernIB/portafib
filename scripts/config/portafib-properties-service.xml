<?xml version="1.0" encoding="UTF-8"?>
<server>
  <mbean code="org.jboss.varia.property.SystemPropertiesService" name="jboss:type=Service,name=PortaFIBSystemProperties">
    <attribute name="Properties">
      <!-- Propietat que indica als projectes que activin les caracteristiques
           especials requerides en l'entorn de la CAIB (Govern Balear) si val true -->
      es.caib.portafib.iscaib=false

      # Dialecte de Hibernate
      es.caib.portafib.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
      # es.caib.portafib.hibernate.dialect=org.hibernate.dialect.MySQLDialect      
      # es.caib.portafib.hibernate.dialect=org.hibernate.dialect.DB2Dialect
      # es.caib.portafib.hibernate.dialect=org.hibernate.dialect.SQLServerDialect
      # es.caib.portafib.hibernate.dialect=net.sf.hibernate.dialect.Oracle9Dialect
      # es.caib.portafib.hibernate.dialect=org.hibernate.dialect.Oracle10gDialect
      # es.caib.portafib.hibernate.query.substitutions=true 1, false 0

      <!-- Directori on es guardaran tots els fitxers de PortaFIB-->
      es.caib.portafib.filesdirectory=c:\\tmp\\portafibfiles
      <!-- Accés HTTP a l'aplicació de PortaFIB (Important que sigui http, no https)  -->
      es.caib.portafib.url=http://localhost:8080/portafib
      es.caib.portafib.email.from=portafib@portafib.org
      es.caib.portafib.defaultlanguage=ca
      <!-- Si val null incica que l'alta de persones i usuaris l'ha de realitzar l'AdEn.
           En cas contrari s'utilitzarà aquest valor com a entitat on donar d'alta
		   automaticament persona i usuari. En entorns CAIB aquesta propietat es ignorada -->
      #es.caib.portafib.defaultentity=fundaciobit
      <!-- S'utilitza conjuntament amb la propietat "es.caib.portafib.defaultentity".
           Indica els roles virtuals a asssignar per defecte a l'usuari-entitat quan aquest
           es crea automàticament. Es tracta d'una llista de roles separats per comes.
           Els valors possibles són: ROLE_SOLI (Sol·licitant), ROLE_DEST (Destinatari)
           ROLE_DELE (Delegat) i ROLE_COLA (Col·laborador). En entorns CAIB aquesta propietat es ignorada -->
      #es.caib.portafib.defaultrolesincreation=ROLE_SOLI,ROLE_DEST
      es.caib.portafib.development=false
      <!-- Tamany màxim de pujada de fitxers en bytes. No definit significa sense límit -->
      es.caib.portafib.maxuploadsizeinbytes=
      <!-- Tamany màxim del fitxer PDF una vegada se li han afegit els annexes i taula de firmes. No definit significa sense límit -->
      es.caib.portafib.maxfitxeradaptatsizeinbytes=
      <!-- Clau per encriptar l'identificador del fitxers a descarregar (IMPORTANT tamany de 16 caràcters) -->
      es.caib.portafib.encryptkey=portafibportafib
      es.caib.portafib.name=PortaFIB
      <!-- Permet editar l'email  dels usuari-persona i usuaris-entitats, així com el logo dels usuaris-entitat -->
      es.caib.portafib.editableuser=true

      <!-- Llistat de Plugins per l'exportació de dades en els llistats (excel, ods, csv, ...) -->
      es.caib.portafib.exportdataplugins=org.fundaciobit.plugins.exportdata.cvs.CSVPlugin,org.fundaciobit.plugins.exportdata.ods.ODSPlugin,org.fundaciobit.plugins.exportdata.excel.ExcelPlugin
      <!-- Opcional. A partir de quants d'errors en una notificació callback s'enviarà
           un correu al responsable de l'usuari aplicació. Per defecte mai s'envia un correu  -->
      # es.caib.portafib.numberoferrorsinnotificationtosendmail=3
      <!-- Opcional. A partir de quants d'errors en una notificació callback aquesta
           automàticament es pausarà. Per defecte es reintenten indefinidament.  -->
      # es.caib.portafib.numberoferrorstopausenotification=6
	  <!-- Opcional. Valor per defecte 60000ms (1 minut). Ha de ser major de 15000.
	       Temps mínim que s'espera abans de reintentar una notificació fallida en ms. -->
	  #es.caib.portafib.notificationtimelapse=60000

      <!-- Si el valor és true llavors redirecciona segons el contexte:
            (a) Si entra amb http dins portafibs llavors redirecciona a portafib
            (b) Si entra amb https dins portafib i existeix portafib/s llavors redirecciona a portafib/s
           Si el valor es false, llavors no fa res.   -->
	  es.caib.portafib.automaticredirect=true


      <!-- Opcional. Valor per defecte 10. En els formularis de cerques dinàmiques d'usuari,
           indica el màxim de resultats permesos per mostrar resultats de l'usuari.	   -->
	  # es.caib.portafib.maxitemstoshowinautocomplete=10


      <!-- Opcional. Valor per defecte 2. En els formularis de cerques dinàmiques d'usuari,
           indica el mínim de caràcters que ha d'escriure l'usuari abans de que li apareguin
           els resultats de la cerca. En entitats amb molts d'usuaris es recomana incrementar
		   aquest valora a 3 o 4 amb la finalitat de reduir càrrega de xarxa, servidor i bbdd. -->
      # es.caib.portafib.mincharstostartautocomplete=2
	  

      <!-- Opcional. Indica Temps de validesa del Token de Firma només quan hi ha multiples firmes
           en un bloc o hi ha delegats definits. Es a dir, el temps màxim que un firmant pot tenir
           bloquejat un document mentre es realitza el procés de firma. Valor per defecte 3*60*1000,
           o sigui 3 minuts. Quan la firma es única en el bloc i no hi ha delegats definits
           llavors no hi ha bloqueig de temps. -->
      #es.caib.portafib.maxtimelockedsigninms=180000

      <!-- Opcional. Expressió cron que indica cada quan s'ha d'executar l'enviador de correus
           quan s'han definit enviament d'avisos agrupats.
           Per defecte s'executa cada dia a les 6:00 (0 0 6 1/1 * ? *) -->
      #es.caib.portafib.emailsgroupedsendercronexpression=0 0 6 1/1 * ? *

      <!--  Opcional. Indica si s'ha de validar el certificat emprant el Plugin de CheckCertificate
             quan l'autenticació es realitza emprant ClientCert. Valor per defecte false. -->
      #es.caib.portafib.checkcertificateinclientcert=true 


      <!-- ======== PLUGIN DE CONVERSIO DE DOCUMENTS - OPENOFFICE ======= -->
      es.caib.portafib.documentconverterplugin=org.fundaciobit.plugins.documentconverter.openoffice.OpenOfficeDocumentConverterPlugin
      es.caib.portafib.plugins.documentconverter.openoffice.host=localhost
      es.caib.portafib.plugins.documentconverter.openoffice.port=8100

      <!-- ======== PLUGIN CHECK CERTIFICATE - FAKE ======= -->
      es.caib.portafib.certificateplugin=org.fundaciobit.plugins.certificate.fake.FakeCertificatePlugin
      
      <!-- ======== PLUGIN CHECK CERTIFICATE - @FIRMA ======= -->

      <!--
      #es.caib.portafib.certificateplugin=org.fundaciobit.plugins.certificate.afirma.AfirmaCertificatePlugin
      es.caib.portafib.certificateplugin=org.fundaciobit.plugins.certificate.afirmacxf.AfirmaCxfCertificatePlugin

      # MODE_VALIDACIO_SIMPLE = 0;
      # MODE_VALIDACIO_AMB_REVOCACIO = 1;
      # MODE_VALIDACIO_CADENA = 2;      
      es.caib.portafib.plugins.certificate.afirma.validationmode=1
      
      #es.caib.portafib.plugins.certificate.afirma.endpoint=http://afirma.redsara.es/afirmaws/services/
      es.caib.portafib.plugins.certificate.afirma.endpoint=http://des-afirma.redsara.es/afirmaws/services/
      es.caib.portafib.plugins.certificate.afirma.applicationid=

      # USERNAME-PASSWORD Token
      #es.caib.portafib.plugins.certificate.afirma.authorization.username=
      #es.caib.portafib.plugins.certificate.afirma.authorization.password=

      # CERTIFICATE Token
      es.caib.portafib.plugins.certificate.afirma.authorization.ks.path=D:/dades/dades/CarpetesPersonals/Programacio/PortaFIB/plugins/plugins-certificate/afirma/proves-dgidt.jks
      es.caib.portafib.plugins.certificate.afirma.authorization.ks.type=JKS
      es.caib.portafib.plugins.certificate.afirma.authorization.ks.password=
      es.caib.portafib.plugins.certificate.afirma.authorization.ks.cert.alias=1
      es.caib.portafib.plugins.certificate.afirma.authorization.ks.cert.password=
      -->
      
      
      <!-- ======== PLUGIN USER-INFORMATION - DATABASE ======= -->
      es.caib.portafib.userinformationplugin=org.fundaciobit.plugins.userinformation.database.DataBaseUserInformationPlugin
      es.caib.portafib.plugins.userinformation.database.jndi=java:/es.caib.seycon.db.wl
      es.caib.portafib.plugins.userinformation.database.users_table=SC_WL_USUARI
      es.caib.portafib.plugins.userinformation.database.username_column=USU_CODI
      es.caib.portafib.plugins.userinformation.database.administrationid_column=USU_NIF
      es.caib.portafib.plugins.userinformation.database.name_column=USU_NOM
      #es.caib.portafib.plugins.userinformation.database.surname_1_column
      #es.caib.portafib.plugins.userinformation.database.surname_2_column      
      #es.caib.portafib.plugins.userinformation.database.language_column
      #es.caib.portafib.plugins.userinformation.database.telephone_column
      #es.caib.portafib.plugins.userinformation.database.email_column=CONCAT(USU_CODI,'@fundaciobit.org')
      #es.caib.portafib.plugins.userinformation.database.gender_column
      #es.caib.portafib.plugins.userinformation.database.password_column
      es.caib.portafib.plugins.userinformation.database.userroles_table=SC_WL_USUGRU
      es.caib.portafib.plugins.userinformation.database.userroles_rolename_column=UGR_CODGRU
      es.caib.portafib.plugins.userinformation.database.userroles_username_column=UGR_CODUSU
      
      
      <!-- ======== PLUGIN USER-INFORMATION - LDAP ======= -->
      <!--
      es.caib.portafib.userinformationplugin=org.fundaciobit.plugins.userinformation.ldap.LdapUserInformationPlugin
      
      es.caib.portafib.plugins.userinformation.ldap.host_url=ldap://ldap.ibit.org:389
      es.caib.portafib.plugins.userinformation.ldap.security_principal=[LDAPUSERNAME]
      es.caib.portafib.plugins.userinformation.ldap.security_authentication=simple
      es.caib.portafib.plugins.userinformation.ldap.security_credentials=[PASSWORD of LDAPUSERNAME]
      es.caib.portafib.plugins.userinformation.ldap.users_context_dn=cn=Users,dc=ibitnet,dc=lan
      es.caib.portafib.plugins.userinformation.ldap.search_scope=onelevel
      es.caib.portafib.plugins.userinformation.ldap.search_filter=(|(memberOf=CN=@PFI_ADMIN,CN=Users,DC=ibitnet,DC=lan)(memberOf=CN=@PFI_USER,CN=Users,DC=ibitnet,DC=lan))
      es.caib.portafib.plugins.userinformation.ldap.attribute.username=sAMAccountName
      es.caib.portafib.plugins.userinformation.ldap.attribute.mail=mail
      es.caib.portafib.plugins.userinformation.ldap.attribute.administration_id=postOfficeBox
      es.caib.portafib.plugins.userinformation.ldap.attribute.name=givenName
      es.caib.portafib.plugins.userinformation.ldap.attribute.surname=sn
      es.caib.portafib.plugins.userinformation.ldap.attribute.telephone=telephoneNumber
      es.caib.portafib.plugins.userinformation.ldap.attribute.memberof=memberOf
      es.caib.portafib.plugins.userinformation.ldap.prefix_role_match_memberof=CN=@
      es.caib.portafib.plugins.userinformation.ldap.suffix_role_match_memberof=,CN=Users,DC=ibitnet,DC=lan
      -->

      <!--  Afegir aqui altres propietats -->

    </attribute>
  </mbean>
</server>
